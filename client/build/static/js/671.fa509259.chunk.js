"use strict";(self.webpackChunkx_admin_dashboard=self.webpackChunkx_admin_dashboard||[]).push([[671],{88983:function(n,e,r){r.d(e,{Z:function(){return a}});var s=r(61142),t=r(46417);function a(n){var e=n.children;n.type;return(0,t.jsx)(s.E.div,{whileHover:{scale:1},whileTap:{scale:.9},children:e})}a.defaultProps={type:"scale"}},53671:function(n,e,r){r.r(e),r.d(e,{default:function(){return U}});var s=r(74165),t=r(1413),a=r(15861),i=r(70885),o=r(82937),d=r(62463),l=r(29266),c=r(20362),h=r(59017),u=r(18104),p=r(48569),w=r(73477),m=r(47313),x=r(30168),f=r(63366),g=r(87462),Z=r(83061),v=r(30686),j=r(21921);function _(n){return String(n).match(/[\d.\-+]*\s*(.*)/)[1]||""}function b(n){return parseFloat(n)}var C=r(17551),y=r(64164),P=r(11236),S=r(32298);function k(n){return(0,S.Z)("MuiSkeleton",n)}(0,r(77430).Z)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var F,R,B,M,q,A,E,N,D=r(46417),W=["animation","className","component","height","style","variant","width"],z=(0,v.F4)(q||(q=F||(F=(0,x.Z)(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),O=(0,v.F4)(A||(A=R||(R=(0,x.Z)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),X=(0,y.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:function(n,e){var r=n.ownerState;return[e.root,e[r.variant],!1!==r.animation&&e[r.animation],r.hasChildren&&e.withChildren,r.hasChildren&&!r.width&&e.fitContent,r.hasChildren&&!r.height&&e.heightAuto]}})((function(n){var e=n.theme,r=n.ownerState,s=_(e.shape.borderRadius)||"px",t=b(e.shape.borderRadius);return(0,g.Z)({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:(0,C.Fq)(e.palette.text.primary,"light"===e.palette.mode?.11:.13),height:"1.2em"},"text"===r.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(t).concat(s,"/").concat(Math.round(t/.6*10)/10).concat(s),"&:empty:before":{content:'"\\00a0"'}},"circular"===r.variant&&{borderRadius:"50%"},"rounded"===r.variant&&{borderRadius:(e.vars||e).shape.borderRadius},r.hasChildren&&{"& > *":{visibility:"hidden"}},r.hasChildren&&!r.width&&{maxWidth:"fit-content"},r.hasChildren&&!r.height&&{height:"auto"})}),(function(n){return"pulse"===n.ownerState.animation&&(0,v.iv)(E||(E=B||(B=(0,x.Z)(["\n      animation: "," 1.5s ease-in-out 0.5s infinite;\n    "]))),z)}),(function(n){var e=n.ownerState,r=n.theme;return"wave"===e.animation&&(0,v.iv)(N||(N=M||(M=(0,x.Z)(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 1.6s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),O,(r.vars||r).palette.action.hover)})),Y=m.forwardRef((function(n,e){var r=(0,P.Z)({props:n,name:"MuiSkeleton"}),s=r.animation,t=void 0===s?"pulse":s,a=r.className,i=r.component,o=void 0===i?"span":i,d=r.height,l=r.style,c=r.variant,h=void 0===c?"text":c,u=r.width,p=(0,f.Z)(r,W),w=(0,g.Z)({},r,{animation:t,component:o,variant:h,hasChildren:Boolean(p.children)}),m=function(n){var e=n.classes,r=n.variant,s=n.animation,t=n.hasChildren,a=n.width,i=n.height,o={root:["root",r,s,t&&"withChildren",t&&!a&&"fitContent",t&&!i&&"heightAuto"]};return(0,j.Z)(o,k,e)}(w);return(0,D.jsx)(X,(0,g.Z)({as:o,ref:e,className:(0,Z.Z)(m.root,a),ownerState:w},p,{style:(0,g.Z)({width:u,height:d},l)}))})),H=r(59090),J=function(n){var e=n.children,r=(0,m.useState)(!0),s=(0,i.Z)(r,2),t=s[0],a=s[1];(0,m.useEffect)((function(){a(!1)}),[]);var l=(0,D.jsx)(H.Z,{title:(0,D.jsx)(Y,{sx:{width:{xs:120,md:180}}}),secondary:(0,D.jsx)(Y,{animation:"wave",variant:"circular",width:24,height:24}),children:(0,D.jsxs)(d.Z,{spacing:1,children:[(0,D.jsx)(Y,{}),(0,D.jsx)(Y,{sx:{height:64},animation:"wave",variant:"rectangular"}),(0,D.jsx)(Y,{}),(0,D.jsx)(Y,{})]})});return(0,D.jsxs)(D.Fragment,{children:[t&&(0,D.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,D.jsx)(o.ZP,{item:!0,xs:12,md:6,children:l}),(0,D.jsx)(o.ZP,{item:!0,xs:12,md:6,children:l}),(0,D.jsx)(o.ZP,{item:!0,xs:12,md:6,children:l}),(0,D.jsx)(o.ZP,{item:!0,xs:12,md:6,children:l})]}),!t&&e]})},T=r(88983),V=r(3463),I=r(7410),G=r(33045),K=r(31741),L=r(44874),Q=r(64683),U=function(){var n=JSON.parse(localStorage.getItem("_userData")),e=(0,m.useState)(!1),r=(0,i.Z)(e,2),x=r[0],f=r[1],g=(0,m.useState)(!1),Z=(0,i.Z)(g,2),v=Z[0],j=Z[1],_=(0,m.useState)(!1),b=(0,i.Z)(_,2),C=b[0],y=b[1],P=function(n){"new_password"===n&&j(!v),"current_password"===n&&f(!x),"confirm_password"===n&&y(!C)},S=function(n){n.preventDefault()},k=(0,m.useMemo)((function(){return(0,D.jsx)("h1",{className:"mb-0 pb-0",children:"Change Password"})}),[]);return(0,D.jsx)(J,{children:(0,D.jsx)(o.ZP,{container:!0,spacing:0,children:(0,D.jsx)(o.ZP,{item:!0,xs:12,lg:12,children:(0,D.jsx)(d.Z,{spacing:0,children:(0,D.jsx)(H.Z,{title:k,codeHighlight:!0,children:(0,D.jsx)(I.J9,{initialValues:{new_password:"",current_password:"",confirm_password:"",submit:null},validationSchema:V.Ry().shape({current_password:V.Z_().max(255).required("Current Password is required"),new_password:V.Z_().max(255).required("New Password is required"),confirm_password:V.Z_().max(255).required("Confirm Password is required")}),onSubmit:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(r,a){var i,o,d,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=a.setErrors,o=a.setStatus,d=a.setSubmitting,l=a.resetForm;try{G.Z.changePassword((0,t.Z)((0,t.Z)({},r),{},{created_by:n.id})).then((function(n){var e;200===(null===n||void 0===n?void 0:n.status)?(l({new_password:"",current_password:"",confirm_password:""}),(0,Q.PY)("Success","Password Changes Successfully","success")):(0,Q.PY)("Oops",null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.message,"info")})).catch((function(n){var e,r;(0,Q.PY)("Oops",null===n||void 0===n||null===(e=n.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message,"danger")})),o({success:!1}),d(!1)}catch(s){o({success:!1}),i({submit:s.message}),d(!1)}case 2:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),children:function(n){var e=n.errors,r=n.handleBlur,s=n.handleChange,t=n.handleSubmit,a=n.isSubmitting,i=n.touched,m=n.values;return(0,D.jsx)("form",{noValidate:!0,onSubmit:t,children:(0,D.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,D.jsx)(o.ZP,{item:!0,xs:6,children:(0,D.jsxs)(d.Z,{spacing:1,children:[(0,D.jsx)(l.Z,{htmlFor:"current_password",children:"Current Password"}),(0,D.jsx)(c.Z,{fullWidth:!0,error:Boolean(i.current_password&&e.current_password),id:"current_password",type:x?"text":"password",value:m.current_password,name:"current_password",onBlur:r,onChange:s,endAdornment:(0,D.jsx)(h.Z,{position:"end",children:(0,D.jsx)(u.Z,{"aria-label":"toggle password visibility",onClick:function(){return P("current_password")},onMouseDown:S,edge:"end",size:"large",children:x?(0,D.jsx)(K.Z,{}):(0,D.jsx)(L.Z,{})})}),placeholder:"Enter current password"}),i.current_password&&e.current_password&&(0,D.jsx)(p.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:e.current_password})]})}),(0,D.jsx)(o.ZP,{item:!0,xs:6}),(0,D.jsx)(o.ZP,{item:!0,xs:6,children:(0,D.jsxs)(d.Z,{spacing:1,children:[(0,D.jsx)(l.Z,{htmlFor:"new_password",children:"Password"}),(0,D.jsx)(c.Z,{fullWidth:!0,error:Boolean(i.new_password&&e.new_password),id:"new_password",type:v?"text":"password",value:m.new_password,name:"new_password",onBlur:r,onChange:s,endAdornment:(0,D.jsx)(h.Z,{position:"end",children:(0,D.jsx)(u.Z,{"aria-label":"toggle password visibility",onClick:function(){return P("new_password")},onMouseDown:S,edge:"end",size:"large",children:v?(0,D.jsx)(K.Z,{}):(0,D.jsx)(L.Z,{})})}),placeholder:"Enter new password"}),i.new_password&&e.new_password&&(0,D.jsx)(p.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:e.new_password})]})}),(0,D.jsx)(o.ZP,{item:!0,xs:6,children:(0,D.jsxs)(d.Z,{spacing:1,children:[(0,D.jsx)(l.Z,{htmlFor:"confirm_password",children:"Confirm Password"}),(0,D.jsx)(c.Z,{fullWidth:!0,error:Boolean(i.confirm_password&&e.confirm_password),id:"confirm_password",type:C?"text":"password",value:m.confirm_password,name:"confirm_password",onBlur:r,onChange:s,endAdornment:(0,D.jsx)(h.Z,{position:"end",children:(0,D.jsx)(u.Z,{"aria-label":"toggle password visibility",onClick:function(){return P("confirm_password")},onMouseDown:S,edge:"end",size:"large",children:C?(0,D.jsx)(K.Z,{}):(0,D.jsx)(L.Z,{})})}),placeholder:"Enter confirm password"}),i.confirm_password&&e.confirm_password&&(0,D.jsx)(p.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:e.confirm_password})]})}),(0,D.jsx)(o.ZP,{item:!0,xs:8}),(0,D.jsx)(o.ZP,{item:!0,xs:4,children:(0,D.jsx)(T.Z,{children:(0,D.jsx)(w.Z,{disableElevation:!0,disabled:a,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Change"})})})]})})}})})})})})})}}}]);